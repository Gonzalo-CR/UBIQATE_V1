<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UBIQATE - Conversor de Coordenadas, Direcciones y Mapa V1.1</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.8.0/proj4.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-map-marker-alt"></i> UBIQATE</h1>
            <h3>Conversor de Coordenadas, Direcciones y Mapa - Versión 1.1</h3>
        </header>

        <div class="tabs">
            <button class="tab-button active" data-tab="location-tab">Ubicación y Coordenadas</button>
            <button class="tab-button" data-tab="route-tab">Trazar Ruta</button>
        </div>

        <!-- Pestaña de Ubicación y Coordenadas -->
        <div id="location-tab" class="tab-content active">
            <div class="card">
                <div class="card-title">
                    <i class="fas fa-map-pin"></i>
                    <h2>Ubicación Actual</h2>
                </div>
                <div class="btn-group">
                    <button id="current-location-btn" class="btn-success">
                        <i class="fas fa-location-arrow"></i> Obtener Ubicación Actual
                    </button>
                </div>
            </div>

            <div class="card">
                <div class="card-title">
                    <i class="fas fa-exchange-alt"></i>
                    <h2>Conversor de Coordenadas</h2>
                </div>
                <div class="input-group">
                    <label for="input-type">Tipo de entrada:</label>
                    <select id="input-type">
                        <option value="dd">Grados Decimales</option>
                        <option value="dms">Grados, Minutos, Segundos</option>
                        <option value="utm">UTM</option>
                        <option value="address">Dirección</option>
                    </select>
                </div>

                <div id="dd-input" class="coordinate-input">
                    <div class="input-group">
                        <label for="dd-lat">Latitud:</label>
                        <input type="number" id="dd-lat" placeholder="Ej: -34.603722">
                    </div>
                    <div class="input-group">
                        <label for="dd-lon">Longitud:</label>
                        <input type="number" id="dd-lon" placeholder="Ej: -58.381592">
                    </div>
                </div>

                <div id="dms-input" class="coordinate-input three-col" style="display:none;">
                    <div class="input-group">
                        <label for="dms-lat-d">Grados Lat:</label>
                        <input type="number" id="dms-lat-d" placeholder="Grados">
                    </div>
                    <div class="input-group">
                        <label for="dms-lat-m">Minutos Lat:</label>
                        <input type="number" id="dms-lat-m" placeholder="Minutos">
                    </div>
                    <div class="input-group">
                        <label for="dms-lat-s">Segundos Lat:</label>
                        <input type="number" id="dms-lat-s" placeholder="Segundos">
                    </div>
                    <div class="input-group">
                        <label for="dms-lat-dir">Dirección:</label>
                        <select id="dms-lat-dir">
                            <option value="N">Norte</option>
                            <option value="S">Sur</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="dms-lon-d">Grados Lon:</label>
                        <input type="number" id="dms-lon-d" placeholder="Grados">
                    </div>
                    <div class="input-group">
                        <label for="dms-lon-m">Minutos Lon:</label>
                        <input type="number" id="dms-lon-m" placeholder="Minutos">
                    </div>
                    <div class="input-group">
                        <label for="dms-lon-s">Segundos Lon:</label>
                        <input type="number" id="dms-lon-s" placeholder="Segundos">
                    </div>
                    <div class="input-group">
                        <label for="dms-lon-dir">Dirección:</label>
                        <select id="dms-lon-dir">
                            <option value="E">Este</option>
                            <option value="W">Oeste</option>
                        </select>
                    </div>
                </div>

                <div id="utm-input" class="coordinate-input" style="display:none;">
                    <div class="input-group">
                        <label for="utm-zone">Zona UTM:</label>
                        <input type="number" id="utm-zone" placeholder="Ej: 21">
                    </div>
                    <div class="input-group">
                        <label for="utm-hemisphere">Hemisferio:</label>
                        <select id="utm-hemisphere">
                            <option value="N">Norte</option>
                            <option value="S">Sur</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="utm-easting">Este (Easting):</label>
                        <input type="number" id="utm-easting" placeholder="Coordenada Este">
                    </div>
                    <div class="input-group">
                        <label for="utm-northing">Norte (Northing):</label>
                        <input type="number" id="utm-northing" placeholder="Coordenada Norte">
                    </div>
                </div>

                <div id="address-input" class="coordinate-input" style="display:none;">
                    <div class="input-group">
                        <label for="address">Dirección:</label>
                        <input type="text" id="address" placeholder="Ingrese una dirección">
                    </div>
                </div>

                <div class="btn-group">
                    <button id="convert-btn" class="btn-primary">
                        <i class="fas fa-sync-alt"></i> Convertir y Mostrar
                    </button>
                </div>
            </div>

            <div class="card">
                <div class="card-title">
                    <i class="fas fa-info-circle"></i>
                    <h2>Resultados</h2>
                </div>
                <div class="output-section">
                    <div class="output-item">
                        <h4>Grados Decimales</h4>
                        <p id="dd-output">-</p>
                    </div>
                    <div class="output-item">
                        <h4>Grados, Minutos, Segundos</h4>
                        <p id="dms-output">-</p>
                    </div>
                    <div class="output-item">
                        <h4>UTM</h4>
                        <p id="utm-output">-</p>
                    </div>
                    <div class="output-item">
                        <h4>Dirección</h4>
                        <p id="address-output">-</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pestaña de Trazar Ruta -->
        <div id="route-tab" class="tab-content">
            <div class="card">
                <div class="card-title">
                    <i class="fas fa-route"></i>
                    <h2>Configuración de Ruta</h2>
                </div>
                
                <div class="transport-selector">
                    <div class="transport-option active" data-mode="driving">
                        <i class="fas fa-car"></i>
                        <div>Vehículo</div>
                    </div>
                    <div class="transport-option" data-mode="walking">
                        <i class="fas fa-walking"></i>
                        <div>A Pie</div>
                    </div>
                    <div class="transport-option" data-mode="cycling">
                        <i class="fas fa-bicycle"></i>
                        <div>Bicicleta</div>
                    </div>
                </div>
                
                <!-- Punto de inicio -->
                <div class="input-group" style="margin-top: 20px;">
                    <label for="start-address">Punto de inicio:</label>
                    <div class="input-with-buttons">
                        <input type="text" id="start-address" placeholder="Ingrese dirección de inicio">
                        <div class="destination-buttons">
                            <button id="search-start-btn" class="btn-warning">
                                <i class="fas fa-search"></i> Buscar
                            </button>
                            <button id="current-location-start-btn" class="btn-success">
                                <i class="fas fa-location-arrow"></i> Actual
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Destinos múltiples -->
                <div class="destinations-container">
                    <div class="input-group">
                        <label>Destinos:</label>
                        <div class="destination-item">
                            <input type="text" class="destination-input" placeholder="Ingrese dirección de destino">
                            <div class="destination-buttons">
                                <button class="search-destination-btn btn-warning">
                                    <i class="fas fa-search"></i> Buscar
                                </button>
                                <button class="remove-destination-btn btn-accent">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <button id="add-destination-btn" class="btn-primary">
                        <i class="fas fa-plus"></i> Agregar Destino
                    </button>
                </div>
                
                <div class="btn-group">
                    <button id="calculate-route-btn" class="btn-accent">
                        <i class="fas fa-route"></i> Calcular Ruta
                    </button>
                    <button id="clear-route-btn" class="btn-secondary">
                        <i class="fas fa-trash"></i> Limpiar Ruta
                    </button>
                </div>
            </div>

            <div id="route-info-container" class="card" style="display: none;">
                <div class="card-title">
                    <i class="fas fa-info-circle"></i>
                    <h2>Información de Ruta</h2>
                </div>
                <div class="route-info">
                    <div class="route-details">
                        <div class="route-detail">
                            <div class="value" id="total-distance">-</div>
                            <div class="label">Distancia Total</div>
                        </div>
                        <div class="route-detail">
                            <div class="value" id="total-duration">-</div>
                            <div class="label">Duración Total</div>
                        </div>
                        <div class="route-detail">
                            <div class="value" id="destinations-count">0</div>
                            <div class="label">Destinos</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="route-instructions-container" class="card" style="display: none;">
                <div class="card-title">
                    <i class="fas fa-directions"></i>
                    <h2>Instrucciones de Ruta</h2>
                </div>
                <div id="route-instructions" class="route-instructions">
                    <!-- Las instrucciones de ruta se mostrarán aquí -->
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-title">
                <i class="fas fa-map"></i>
                <h2>Mapa Interactivo</h2>
            </div>
            <div id="map"></div>
            <p style="margin-top: 15px; text-align: center;">
                <i class="fas fa-mouse-pointer"></i> Haga clic en cualquier punto del mapa para obtener sus coordenadas y dirección.
            </p>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 - <a href="https://github.com/Gonzalo-CR" target="_blank" rel="noopener noreferrer">GECR</a></p>
            <p>Todos los derechos reservados</p>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>